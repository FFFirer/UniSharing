 <!DOCTYPE html>
<html>
<head>
    <!-- bootstrap载入文件 -->
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css" />
    <link rel="stylesheet" href="../bootstrap/css/bootstrap-theme.css" />
    <link rel="stylesheet" href="../css/style.css" />
    <script src="../jQuery/jquery-3.1.1.js" type="text/javascript" ></script>
    <script src="../bootstrap/js/bootstrap.js" type="text/javascript"></script>
    <!-- 到此为止 -->
    <script type="text/javascript">
        function submit() {
            var x = $("#SignUpInfo").serialize();
            alert(x);
            alert(typeof (x));
            $.ajax({
                url: '../Handlers/SignUp.ashx',
                type: 'post',
                data: x,
                success: function (res) {
                    if (res == "success") {
                        alert(res);
                    }
                    else {
                        alert(res);
                    }
                }
            });
        }
        function check() {
            var strName = $("#name").val();
            var strMail = $("#mail").val();
            var strMailBack = strMail.split(".");
            var x = strMailBack[0].trim();
            var strMailFront = x.split("@");
            var strPassword = $("#password").val();
            var strSchool = $("#school").val();
            var strScholId = $("#schoolId").val();
            var state = 0;
            var detail = "";

            if (strName.length > 10)
            {
                detail += "昵称长度超过限定\n";
                state += 1;
            }
            if (strMail.length > 10 || strMailBack.length != 2 || strMailFront.length != 2 || strMailFront[1].length == 0)
            {
                detail += "邮箱格式不符合规范\n";
                state += 1;
            }
            if (strPassword.length > 10)
            {
                detail += "密码长度超过限定\n";
                state += 1;
            }
            if (strSchool.length > 10)
            {
                detail += "学校名称长度超过限定\n";
                state += 1;
            }
            if (strScholId.length > 10)
            {
                detail += "学号长度超过限定\n";
                state += 1;
            }
            if (state == 0)
            {
                alert("开始提交")
                submit();
            }
            else
            {
                alert(detail);
            }
        }
        $(document).ready(function () {
            $("#submit").click(function () {
                check();
            });
        });
    </script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>用户注册</title>
	<meta charset="utf-8" />
</head>
<body>
    <div class="container">
        <div id="head" class="row" style="padding-top:15px;padding-bottom:15px;">
            <div class="juzhong" style="line-height:100px;width:1000px;">
                <div style="width:100px;height:100px;display:inline-block;float:left;">
                    <a href="HomePage.html"><img style="width:100px;height:100px;" src="../images/97869673498924905.jpg" /></a>
                </div>
                <div style="float:left;display:inline-block;">
                    <h1>&nbsp;&nbsp;&nbsp;Uni-Sharing —— 南京高校学习资源共享平台<br /><small>&nbsp;&nbsp;&nbsp;用户注册</small></h1>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="juzhong" style="width:500px;">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        用户注册
                    </div>
                    <div class="panel-body">
                        <form class="form-horizontal" role="form" id="SignUpInfo">
                            <div class="form-group">
                                <label for="mail" class="col-xs-2 control-label">邮箱</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" name="mail" id="mail" placeholder="请输入邮箱地址"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="phone" class="col-xs-2 control-label">手机号</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" name="phone" id="phone" placeholder="请输入手机号"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="password" class="col-xs-2 control-label">密码</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" name="password" id="password" placeholder="请输入密码"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="name" class="col-xs-2 control-label">昵称</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" name="name" id="name" placeholder="请输入昵称"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="school" class="col-xs-2 control-label">院校</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" name="school" id="school" placeholder="请输入院校"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="schoolId" class="col-xs-2 control-label">学号</label>
                                <div class="col-xs-10">
                                    <input type="text" class="form-control" name="schoolId" id="schoolId" placeholder="请输入学号"/>
                                </div>
                            </div>
                        </form>
                            <div class="form-group">
                                <div class="col-xs-10 col-xs-offset-2">
                                    <button id="submit" type="button" class="btn btn-default">提交</button>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
